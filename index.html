<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Building a Web Infrastructure From Scratch</title>

		<meta name="description" content="Building a Web Infrastructure From Scratch<">
		<meta name="author" content="Jason Adam Young">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h2>Building an Infrastructure From Scratch</h2>
					<p>Presentation at <a href="http://rambleon.org/presentations/unccause2013">http://rambleon.org/presentations/unccause2013 (*)</a></p>
					<p>More information at <a href="http://rambleon.org/about">http://rambleon.org/about (*)</a>.</p>
					<p>Connect with me on Twitter: <a href="http://twitter.com/jasonadamyoung">@jasonadamyoung</a></p>
					<p>Source code at: <a href="https://github.com/jasonadamyoung/unccause2013">https://github.com/jasonadamyoung/unccause2013</a></p>
					<p><small><em>(*) This personal web site represents my own personal and professional opinion. It does not represent the official position of my family, my dogs, my cat, or my employer even if it sometimes should.</em></small></p>
				</section>

				<section>
					<h2>The Who, Why, What, and How</h2>
				</section>

				<section>
					<h2>Breaking the first rule<br/>of Sysadmin Club</h2>
				</section>

				<section data-background-transition="linear"  data-background="images/elinor_peace.jpg">
				</section>

				<section>
					<h1>Who</h1>
				</section>

				<section>
					<h2>I'm Grant Funded</h2>
					<p class="fragment"><em>I am the person I always warned myself about.</em></p>
				</section>

				<section>
					<h2>A Land Grant In Every State (or more)</h2>
				</section>


				<section>
					<h2>Teaching... Research... and Extension</h2>
				</section>


				<section>
					<h2>Funding</h2>
					<p>... flows through the University of Nebraska - Lincoln (UNL)</p>
					<ul class="fragment">
					<li>Extension Program (Land Grant) Assessments:<br/>($5,000 ~ $80,000 each program)</li>
					<li>Line Item in Federal Agriculture Bill<br/>"New Technologies for Agricultural Extension"</li>
					<li>Department of Defense Military Families Program</li>
					</ul>
				</section>

				<section>
					<h2>The Project</h2>
					<ul>
						<li class="fragment">25 listed Staff - (California, Minnesota, Iowa, Texas, New York, Oregon, Penn State, University of Kentucky, NC State University)</li>
						<li class="fragment">4 (actually ~4.05) at NC State University</li>
					</ul>
				</section>

				<section>
					<h2>The Project @ NC State</h2>
					<ul>
						<li class="fragment">All of the infrastructure hosting
							<ul>
								<li class="fragment">...except Moodle, Adobe Connect</li>
							</ul>
						</li>
						<li class="fragment">Primary technical contact for everything
							<ul>
								<li class="fragment">...except Moodle, Adobe Connect</li>
								<li class="fragment">...Drupal and Multi-site Wordpress are shared</li>
								<li class="fragment">...iOS app development</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h2>The People @ NC State</h2>										
					<ul>
						<li>UI Designer</li>
						<li>Software Developer</li>
						<li>Systems Administrator</li>
						<li>System Architect</li>
					</ul>
				</section>

				<section>
					<h2>You might be thinking...</h2>
					<p><em>What on earth does this have to do with infrastructure?</em></p>
				</section>

				<section>
					<h2>In the immortal words of Oscar Rogers...</h2>

					<blockquote cite="http://snltranscripts.jt.org/08/08wu1update.phtml">
						&ldquo; <span class="fragment">Identify the problem.</span><br/> <span class="fragment">FIX IT!</span><br/> <span class="fragment">Identify another problem.</span><br/> <span class="fragment">FIX IT!</span><br/> <span class="fragment">Repeat as necessary until it is all FIXED!!</span>  &rdquo;
					</blockquote>
					<p><small><em> – <a href="http://en.wikipedia.org/wiki/Kenan_Thompson#SNL_characters">Kenan Thompson as Oscar Rogers</a>, 
						<a href="http://snltranscripts.jt.org/08/08wu1update.phtml">Saturday Night Live Weekend Update, October 9, 2008</a></em></small></p>

				</section>


				<section>
					<h2>Identify the Problem</h2>
					<p>One of the most important, fundamental questions we should be asking is...</p> 
					<p class="fragment" style="font-size: 3em">What is the actual problem we are trying to solve?</p>
				</section>

				<section>
					<h1>Why</h1>
				</section>

				<section>
					<h2>The "script"</h2>
					<p><em>The environment of eXtension is a catalyst for transformation of the Cooperative Extension System of the Land Grant Universities nationwide.</em></p>
					<p>eXtension is an interactive learning environment delivering the best, most researched knowledge from the smartest land-grant university minds across America. eXtension connects knowledge consumers with knowledge providers—experts like you who know their subject matter inside out.</p>
					<p>– <a href="http://about.extension.org/about/">http://about.extension.org/about/</a></p>				
				</section>

				<section>
					<h2>The Mission</h2>
					<p>eXtension is a national internet-based educational network that is integral to and complements the community-based Cooperative Extension System with 24/7/365 availability.</p>
					<p>– <a href="http://create.extension.org/node/2017">Mission, Vision, Values and Guiding Principles</a></p>	
				</section>

				<section>
					<h2>The "Users"</h2>
					<p class="fragment">~<strong>16,910</strong> internal accounts:<br/> ~<strong>1,925</strong> (12%) logging in in last 30 days.</p>
					<p class="fragment">~<strong>38,000</strong> public "emails" on Q&amp;A site in last year</p>
					<p class="fragment">~<strong>175,000</strong> (GA "unique") visitors a month to primary public content site (<a href="http://www.extension.org">www.extension.org</a>)</p>		
				</section>


				<section>
					<h2>The Problem Emerges...</h2>
					<ul>
						<li>"Internet-based educational network, available 24/7/365"</li>
						<li>"Interactive learning environment"</li>
						<li>"Connect knowledge consumers with knowledge providers"</li>
						<li>"Catalyst for transformation"</li>
					</ul>
				</section>

				<section>
					<h2>More attributes of the problem</h2>
					<ul>
						<li class="fragment">Small, distributed, core staff</li>
						<li class="fragment">Geographically diverse "user" base</li>
						<li class="fragment">"Decent" collaborative "write" activity</li>
						<li class="fragment">Worldwide "public read"</li>
						<li class="fragment">Some user-generated content (via the Q&amp;A site)</li>
						<li class="fragment">"24/7/365"</li>
					</ul>
				</section>


				<section>
					<h2>Spoiler Alert</h2>
					<p class="fragment">That identify the problem thing? <span class="fragment"><em>I blew it</em></p>
				</section>				

				<section>
					<h2>We have Web Apps</h2>
					<p><a href="http://create.extension.org/node/2036">eXtension Websites</a></p>		

					<ul>
						<li class="fragment">7 General Content Management Tools
						<ul>
							<li>Drupal</li>
							<li>Mediawiki</li>
							<li>Multi-site Wordpress</li>
							<li>Single-site Wordpress (4)</li>
						</ul>
						</li>
						<li class="fragment">Course Management Tool (Moodle)</li>
						<li class="fragment">Custom Event-oriented Content Management Tool</li>
						<li class="fragment">Custom "Question &amp; Answer" Content Management Tool</li>
						<li class="fragment">Custom Directory / Identity Management</li>
						<li class="fragment">Supporting applications</li>
						<li class="fragment">Public "container" for the CMS content</li>
						<li class="fragment">(+ Google Apps for Education for extension.org)</li>
					</ul>
				</section>

				<section>
					<h2>This is... a little insane</h2>
				</section>	

				<section>
					<h2>Young's Law</h2>
					<p class="fragment">Every application becomes permanent in Higher Education</p>
					<p class="fragment">or <em>You better like it, because you'll own it. Forever.</em></p>
				</section>	

				<section>
					<h1>What</h1>
				</section>


				<section>
					<h2>The Apps</h2>
					<ul>
						<li class="fragment">Drupal</li>
						<li class="fragment">Wordpress</li>
						<li class="fragment">Mediawiki</li>
						<li class="fragment">Custom Ruby on Rails</li>
					</ul>
				</section>

				<section>
					<h2>Identity Management</h2>
					<ul>
						<li class="fragment">Replicated accounts (and groups)</li>
						<li class="fragment">Auth is OpenID (except for Google)</li>
						<li class="fragment">Runtime SHA1 passed to Google</li>
					</ul>
				</section>

				<section>
					<h2>The internal services</h2>
					<ul>
						<li class="fragment">Apache (with PHP and Ruby/Phusion Passenger)</li>
						<li class="fragment">Single-master MySQL (33GB total, 13.2GB is "production")</li>
						<li class="fragment">Redis, Memcached, and Solr</li>
						<li class="fragment">Postfix (Lots of forwarding)</li>
						<li class="fragment">NTP</li>
						<li class="fragment">DNS: Internal VPN hosts BIND</li>
					</ul>
				</section>


				<section>
					<h2>The external services</h2>
					<ul>
						<li class="fragment">Github</li>
						<li class="fragment">Scout, Pingdom, and Pagerduty</li>
						<li class="fragment">DNS Made Easy</li>
					</ul>
				</section>

				<section>
					<h2>The servers</h2>
					<ul>
						<li class="fragment">Ubuntu LTS 10.04 and 12.04</li>
						<li class="fragment">All VM's running on VMWare Vsphere 5.1</li>
						<li class="fragment">Three Dell R620's and 1 ???</li>
						<li class="fragment">EqualLogic PS6110XV SAN</li>
						<li class="fragment">Hosted at MCNC</li>
					</ul>
				</section>

				<section>
					<h2>What's Changed?</h2>
					<ul>
						<li class="fragment">Switch to VM's</li>
						<li class="fragment">RHEL to Ubuntu</li>
						<li class="fragment">Framework upgrades</li>
					</ul>
				</section>
 

				<section>
					<h1>How</h1>
				</section>

				<section>
					<h2>Structured Development Process</h2>
					<p>All code is under source control - using Git</p>
					<p>Local development with <em>similar</em> software configuration using production data copies</p>
					<p>Most applications have a "demo" or "dev" server (with a copy of production data)</p>
					<p>Deployments are controlled (and can roll back)</p>
				</section>						

				<section>
					<h2>Open Development Process</h2>
					<p>Open Source: <a href="http://github.com/extension">http://github.com/extension</a></p>
					<p>Open Deployment: <a href="http://engineering.extension.org">http://engineering.extension.org</a></p>
					<p>"Almost Open" project todos using <a href="https://basecamp.com/">Basecamp</a></p>
				</section>

				<section>
					<h2>Be Open</h2>
				</section>

				<section>
					<h2>Your biggest threat<br/>to your infrastructure...</h2>
				</section>

				<section>
					<h2>... is a Self Denial of Service Attack</h2>
				</section>

				<section>
					<h2>Structured "DevOps" Process<br/>(In process)</h2>
					<ul>
					<li class="fragment">Historically: SVN (now Git) - backed configuration</li>
					<li class="fragment">Currently implementing Puppet Enterprise (and a smidge of Ansible)
						<ul>
							<li class="fragment">Local vagrant-based VM for development</li>
							<li class="fragment">Git-based push for different environments + librarian-puppet in a Git post-commit hook</li>
							<li class="fragment">Goal: "Full Demo" environment (to begin to better test infrastructure changes)</li>
						</ul>
					</li>
					</ul>
				</section>

				<section>
					<h2>I'm a Sysadmin</h2>
				</section>				

				<section>
					<a class="image" href="http://xkcd.com/705/">
						<img src="http://imgs.xkcd.com/comics/devotion_to_duty.png" alt="Devotion to Duty" />
					</a>
					<p><small><em>Source: <a href="http://xkcd.com/705/">http://xkcd.com/705/</a></em></small></p>
				</section>

				<section>
					<section data-background-transition="linear" data-background="images/elinor_peace.jpg">
					</section>
					<section data-background-transition="linear" data-background="images/elinor_evil.jpg">
					</section>
				</section> 

				<section>
					<h2>We live in incredible times</h2>
				</section>	

				<section>
					<h2>Thanks!</h2>
				</section>	

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
